<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Flashcards</title>
    <link rel="stylesheet" href='{{ url_for("static", filename="css/flashcards.css") }}'>
    <script type="text/javascript" async
        src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.7/MathJax.js?config=TeX-MML-AM_CHTML">
    </script>
    <script type="text/x-mathjax-config">
        MathJax.Hub.Config({
            TeX: { extensions: ["mhchem.js"] }
        });
    </script>
</head>
<body>
    <div class="flashcard">
        <div class="side">
            <div class="card_image"> <!-- substrate -->
                <img src='{{ url_for("static", filename="images/propan-1-ol.png") }}'>
                <span class="compound_title">$$ \ce{1-propanol} $$</span>
            </div>
        </div>
        <span class="arrowlatex">$$ \ce{->[SOCl_2][pyridine]} $$</span> <!-- reagent -->
        <div class="side hidden">
            <div class="card_image"> <!-- product -->
                <img src='{{ url_for("static", filename="images/1-chloropropane.png") }}'>
                <span class="compound_title">$$ \ce{chloropropane} $$</span>
            </div>
        </div>
    </div>
    <div class="flashcard">
        <div class="card_image nothidden"> <!-- product -->
            <img src='{{ url_for("static", filename="images/1-chloropropane.png") }}'>
            <span class="compound_title">$$ \ce{chloropropane} $$</span>
        </div>
    </div>

    <!-- First Page: Fronts -->
    {% for page in phc %}
    <div class="page">
        <div class="flashcard_wrapper">
            {% for card in page %}
            {% if card %}
            <div class="flashcard">
                <div
                {% if card["hide"] == 0 %}
                class="side hidden"
                {% else %}
                class="side"
                {% endif %}
                >
                    {% for iupac in card["image_reactants"]%}
                    <div class="card_image">
                        <img src='{{ url_for("static", filename="images/" + iupac + ".png") }}'>
                        <p class="compound_title">{{iupac}}</p>
                    </div>
                    {% endfor %}
                    {% for name in card["nonimage_reactants"]%}
                    <p class="compound_title">{{name}}</p>
                    {% endfor %}
                </div>

                <span 
                {% if card["hide"] == 1 %}
                class="arrowlatex hidden"
                {% else %}
                class="arrowlatex"
                {% endif %}
                >$$ \ce{->[{{ card["top_reagents"][0] }}][{{ card["bottom_reagents"][0] }}]} $$</span> <!-- reagent -->

                <div
                {% if card["hide"] == 2 %}
                class="side hidden"
                {% else %}
                class="side"
                {% endif %}
                >
                    {% for iupac in card["image_products"]%}
                    <div class="card_image">
                        <img src='{{ url_for("static", filename="images/" + iupac + ".png") }}'>
                        <p class="compound_title">{{iupac}}</p>
                    </div>
                    {% endfor %}
                    {% for name in card["nonimage_products"]%}
                    <p class="compound_title">{{name}}</p>
                    {% endfor %}
                </div>
            </div>
            {% else %}
            <div class="invisible_flashcard"></div>
            {% endif %}
            {% endfor %}
        </div> 
    </div>

    <!-- Second Page: Backs -->
    <div class="page">
        <div class="flashcard_wrapper">
            {% for card in bphc[loop.index0] %}
            {% if card %}
            <div class="flashcard">
                {% if card["hide"] == 0 %}
                <div class="side nothidden">
                    {% for iupac in card["image_reactants"]%}
                    <div class="card_image">
                        <img src='{{ url_for("static", filename="images/" + iupac + ".png") }}'>
                        <p class="compound_title">{{iupac}}</p>
                    </div>
                    {% endfor %}
                    {% for name in card["nonimage_reactants"]%}
                    <p class="compound_title">{{name}}</p>
                    {% endfor %}
                </div>
                {% endif %}
                
                {% if card["hide"] == 1 %}
                <span class="arrowlatex nothidden">$$ \ce{->[{{ card["top_reagents"][0] }}][{{ card["bottom_reagents"][0] }}]} $$</span> <!-- reagent -->
                {% endif %}

                {% if card["hide"] == 2 %}
                <div class="side nothidden">
                    {% for iupac in card["image_products"]%}
                    <div class="card_image">
                        <img src='{{ url_for("static", filename="images/" + iupac + ".png") }}'>
                        <p class="compound_title">{{iupac}}</p>
                    </div>
                    {% endfor %}
                    {% for name in card["nonimage_products"]%}
                    <p class="compound_title">{{name}}</p>
                    {% endfor %}
                </div>
                {% endif %}
            </div>
            {% else %}
            <div class="invisible_flashcard"></div>
            {% endif %}
            {% endfor %}
        </div> 
    </div>
    {% endfor %}

</body>
</html>